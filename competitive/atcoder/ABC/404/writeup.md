# AtCoder ABC404 C - Cycle Graph? Writeup

---

## 問題概要

* **入力**: 頂点数 `N`、辺数 `M`、および `M` 本の無向辺 (Ai, Bi)。
* **条件**: グラフは単純無向グラフ（自己ループや多重辺は存在しない）。
* **問**: 与えられたグラフが「サイクルグラフ」かどうか判定せよ。

### 用語整理

* **単純無向グラフ**: 自己ループなし、同じ辺を2回以上持たない無向グラフ。
* **サイクルグラフ**: 頂点を一周する閉路をちょうど1つ持つグラフ。

  * 頂点数 N のサイクルグラフは、辺数 M = N。
  * 各頂点の次数は 2。
  * グラフが連結である。

---

## 制約

* 3 ≤ N ≤ 2×10^5
* 0 ≤ M ≤ 2×10^5
* 1 ≤ Ai, Bi ≤ N

制約が大きいため、**O(N+M)** 程度のアルゴリズムが必要。

---

## 解法の流れ

1. **辺数チェック**

   * サイクルグラフなら M = N が必須。違うなら即 "No"。

2. **次数チェック**

   * 各頂点の次数がすべて 2 でなければ "No"。

3. **連結性チェック**

   * 全ての頂点が1つの連結成分に含まれるかどうかを判定。
   * Union-Find か DFS/BFS で可能。

以上を全て満たせば "Yes"。そうでなければ "No"。

---
