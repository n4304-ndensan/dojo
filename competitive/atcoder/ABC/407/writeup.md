# C - Security 2 - Writeup

## 問題概要

AtCoder 社の入口に特殊なパスコード入力装置があります。この装置は以下のように動作します：

* 初期状態: 画面には空文字列 $t = ""$ が表示される。
* **ボタン A** を押すと、末尾に `0` が追加される。

  $$
  t \;\to\; t \;+\; "0"
  $$
* **ボタン B** を押すと、すべての数字が次の数字に置き換わる。

  $$
  x \mapsto (x+1) \bmod 10
  $$

与えられた文字列 $S$ を作るために必要な最小のボタン操作回数を求める。

---

## 解法

### 観察

* 文字列の長さ $|S|$ は、必ず **ボタン A** を押した回数になる。
  したがって答えの一部は

  $$
  |S|
  $$

* 各桁の数値の差分を埋めるためには **ボタン B** を押す必要がある。
  例えば

  $$
  v = S[i], \quad u = S[i+1]
  $$

  のとき、

  $$
  b_i = (10 + v - u) \bmod 10
  $$

  が必要な B の回数になる。

---

### アルゴリズム

1. 末尾から順に桁を確認し、差分 $b_i$ を計算する。
2. すべての差分を合計する。

   $$
   \text{sum} = \sum_{i=n-1}^{0} (10 + S[i] - S[i+1]) \bmod 10
   $$

   ただし $S[n] = 0$ と定義する。
3. 答えは

   $$
   \text{ans} = |S| + \text{sum}
   $$

---

## 計算量

* 1 回のループで済むため、計算量は

  $$
  O(|S|)
  $$
* 制約 $|S| \leq 5 \times 10^5$ に対して十分高速。

---

## まとめ

答えは次の式で表せる：

$$
\text{ans} = |S| + \sum_{i=n-1}^{0} \bigl( (10 + S[i] - S[i+1]) \bmod 10 \bigr), \quad S[n] = 0
$$

---
