# C: Distance Indicators

## 問題

$$
\begin{aligned}
&\text{長さ } N \text{ の整数列 } A=(A_1,A_2,\dots,A_N) \text{ が与えられる。}\\
&\text{整数の 2 つ組 } (i,j)\ (1 \leq i < j \leq N) \text{ のうち、} j - i = A_i + A_j \\
&\text{を満たすものの個数を求めよ。}
\end{aligned}
$$

---

## 解法

### 式の変形

条件式を変形すると：

$$
j - i = A_i + A_j
$$

両辺を整理すると、

$$
j - A_j = i + A_i
$$

となる。

- **左辺**は $j$ に依存する値
- **右辺**は $i$ に依存する値

したがって、「$j - A_j$ と $i + A_i$ が一致する組を数える問題」に帰着できる。

---

### アルゴリズム

- 各 $i$ に対して $i + A_i$ を計算し、その出現回数をハッシュマップに記録する。
- 各 $j$ を処理するときに $j - A_j$ を計算し、それがこれまでに登場した $i + A_i$ の数だけ答えに加算する。

こうすれば、全探索 $O(N^2)$ を避けて $O(N)$ で解ける。

---

## 計算量

- 各要素についてハッシュマップを **1 回参照 + 1 回更新** → $O(N)$
- 制約 $N \leq 2 \times 10^5$ でも十分間に合う。

---

## 関連アルゴリズム等

- 式変形によるペア探索の簡略化
- ハッシュマップを用いたペア数え上げ
- $O(N^2)$ → $O(N)$ への高速化テクニック

---
