# 区間走査（Interval Scanning）

## 概要

区間走査とは、与えられた数直線上の区間集合をソートし、**走査線法（sweep line）** の要領で区間の重なりや長さ、最大同時出現数などを求める手法である。

## 主な用途

* 区間の重複検出
* 被覆長の計算
* イベントスケジューリング
* 線分交差判定

## 基本手順

1. 区間 $[l_i, r_i])$ の**始点と終点をイベントとしてソート**する。
2. 左から順に走査し、始点ならカウントを+1、終点なら-1。
3. カウントの最大値が同時に存在する区間数。

### 擬似コード

```pseudo
intervals = [(l1,r1), (l2,r2), ...]
events = []
for (l,r) in intervals:
    events.append((l, +1))
    events.append((r, -1))
events.sort()

count = 0
max_count = 0
for (x, delta) in events:
    count += delta
    max_count = max(max_count, count)
```

## 計算量

* ソート：$O(N \log N)$
* 走査：$O(N)$
  → 全体で $O(N \log N)$

## 応用

* imos法（累積的な区間加算）との組み合わせで高速化可能。
* 区間DPの前処理として利用されることもある。
