# 連結成分数（Connected Components）

## 定義

* 無向グラフにおいて、任意の 2 頂点がパスで結ばれているような極大部分グラフを **連結成分 (connected component)** という。
* グラフ全体を構成する連結成分の個数を **連結成分数** と呼ぶ。

## 性質

* 連結成分数を $c$、頂点数を $n$、辺数を $m$ とすると、各成分 $G_i=(V_i,E_i)$ は次を満たす：

  $$
  |V| = \sum_i |V_i|, \quad |E| = \sum_i |E_i|
  $$
* 各 $G_i$ は互いに頂点を共有しない： $V_i \cap V_j = \emptyset (i\neq j)$。

## 求め方（アルゴリズム）

* DFS（深さ優先探索）または BFS（幅優先探索）を用いて、訪問済み配列を管理しながら探索を繰り返す。
* 未訪問の頂点を始点として探索を1回行うごとに、連結成分数を1増加させる。

### 疑似コード

```pseudo
count = 0
visited = [false] * n
for v in V:
    if not visited[v]:
        DFS(v)
        count += 1
```

## 計算量

* 隣接リストで表現されたグラフの場合、DFS/BFSいずれも $O(V+E)$。

## 例

```
1—2   3—4—5

→ 連結成分数 = 2
```

## 関連

* 森・木（各連結成分が木である場合は「森」）
* DFS, BFS
* Union-Find（素集合データ構造による高速判定）
