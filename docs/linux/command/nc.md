# nc

Netcat は「ネットワークのスイスアーミーナイフ」と呼ばれるシンプルで強力なコマンドラインツールです。  
データ転送、ポートスキャン、リモートサーバーとの通信など柔軟に利用できます。

---

## 基本構文

- サーバーモード (待ち受け):

```sh
nc -l {port}
```

- クライアントモード (接続):

```sh
nc {servername} {port}
```

TCP/UDP の両方に対応しています。

---

## 主なオプション

- `-l` : サーバーモード（listen）
- `-p` : ポート指定
- `-v` : 詳細表示（verbose）
- `-vv` : さらに詳細表示
- `-z` : ポートスキャンモード（データ送信なし）
- `-e` : コマンド実行（危険！バックドア用途で使われる）

---

## 利用例

### ポートスキャン

- 単一ポート

```sh
nc -zv {servername} {port}
```

- 複数ポート

```sh
nc -zv {servername} {port-start}-{port-end}
```

---

### ファイル送受信

- サーバー側 (待ち受けてファイルを保存):

```sh
nc -l {port} > receiveFile
```

- クライアント側 (ファイル送信):

```sh
nc {servername} {port} < sendFile
```

※ `cat` を組み合わせても可

```sh
cat sendFile | nc -l {port}
nc {servername} {port} > receiveFile
```

---

### リモートシェル起動

- サーバー側 (バックドアのように待ち受け):

```sh
nc -l -p {port} -e /bin/bash
```

- クライアント側 (接続):

```sh
nc {servername} {port}
```

※ `-e` オプションはセキュリティ的に危険なため、新しい Netcat 実装（OpenBSD nc など）では無効化されていることがあります。
代わりに **FIFO** を使って擬似的にシェルをやり取りする方法もあります。

---

## 用途まとめ

- 通信テスト（TCP/UDP）
- ポートスキャン
- ファイル転送
- リモートシェルの実現
- 簡易チャットサーバー
