# tr コマンド解説

`tr` は **translate / delete characters** の略で、文字の変換・削除・圧縮を行うシンプルなテキスト処理コマンドです。標準入力を受け取り、標準出力に書き出します。

---

## 基本構文

```sh
tr [オプション] SET1 [SET2]
```

* **SET1** : 対象文字集合
* **SET2** : 置換後の文字集合（オプションにより省略可能）

---

## 主な機能

1. **文字変換**

```sh
echo "hello" | tr 'a-z' 'A-Z'
# => HELLO
```

2. **文字削除**

```sh
echo "hello world" | tr -d ' '
# => helloworld
```

3. **文字圧縮（連続を1つにまとめる）**

```sh
echo "aaa    bbb" | tr -s ' '
# => aaa bbb
```

4. **補集合の指定（-c）**

```sh
echo "abc123" | tr -cd '0-9'
# => 123
```

---

## 主なオプション

* `-d` : 指定した文字を削除
* `-s` : 指定した文字が連続する場合 1 文字に圧縮
* `-c` : 指定した集合の補集合を対象にする

---

## 利用例

### 改行を削除して1行にまとめる

```sh
cat file.txt | tr -d '\n'
```

### 数字以外を削除

```sh
echo "a1b2c3" | tr -cd '0-9'
# => 123
```

### 連続する改行を1つにまとめる

```sh
cat file.txt | tr -s '\n'
```

### Windows 改行(CRLF) を Unix 改行(LF) に変換

```sh
tr -d '\r' < crlf.txt > lf.txt
```

---

## 注意点

* `tr` はファイル名を引数に取らず、**標準入力を処理する**。

  * 例: `tr 'a' 'b' < file.txt`
* `tr 'a-z' 'A-Z'` のような範囲指定はロケールに依存する。

  * 確実に ASCII のみを対象にする場合は `LC_ALL=C` を設定。
* マルチバイト文字（日本語など）の変換には不向き。`awk` や `perl` などを利用する方が適切。

---

## 用途まとめ

* 大文字・小文字変換
* 特定文字の削除
* 改行や空白の整理
* ファイルフォーマット変換（CRLF → LF など）
